# 2.28工作日报

| 内容                                | 时间                |
| ----------------------------------- | ------------------- |
| 研究淘来的电机驱动板                | 14:00-14:30         |
| 把rviz2的机器人节点移植到microros上 | 14:30-15:00         |
| 封装小车，实现无线控制              | 15:00-18:00         |
| 调试电路                            | 19:00-21:00         |
| 参考其他项目                        | 21:00-22:30         |
| ROS了解                             | 22:30-23:00         |
|                                     | 13:47上班/22:50下班 |

现有电机的排线间隙与杜邦线一致(2.54mm？)

<img src="http://www.datasheet-pdf.info/attach/image/Allegro/A4988.gif" alt="A4988 datasheet" style="zoom:200%;" />

![Arduino-CNC-电机扩展板步进设置说明](http://www.taichi-maker.com/wp-content/uploads/2019/03/Arduino-CNC-Shield-Stepping-Jumpers-3-1.jpg)

http://www.taichi-maker.com/homepage/reference-index/motor-reference-index/arduino-cnc-shield/

连上驱动板之后电机不动——发现是没启动micro-ros-agent

驱动板声音很大、电池发热——电流过大，调整电位器之后从用满可调电源的电流(3.9A)调为0.4A，问题解决（电机力矩变小）

调试之后接上电池冒烟且驱动板保险丝熔断——可能是哪里短路了，重新换用降压模块和驱动板，重新固定

该降压模块为线性降压模块，能带动的电流很小，应该采购DC-DC降压模块

## ROS

**和操作系统类似，ROS是机器人平台（操作系统），核心功能是通讯框架+可视化工具等，但具备非常丰富的接口，不能独立与操作系统。**



ROS虽然全名是Robot Operating System，但本质上不是操作系统，是Linux发行版Ubuntu下的一个用来开发机器人的Middleware

进程间通信并不是ROS能够占领机器人开发环境的主要原因

ROS最大的贡献就是制定了机器人开发的**统一接口标准**。

**针对机器人开发，ROS则提供了很好的可视化、模拟仿真和Debug的工具**。尤其做了多年开发的机器人工程师更加能理解这些工具带来的便捷性。可视化的工具RViz，就像通信工程师用的示波器，可以说没有RViz这种可视化工具，很多功能是无法调校出来的；ROS下的模拟仿真做到了和硬件的无缝衔接



ROS 提供了传输层来促进这种通信。它允许使用标准数据类型(称为 ROS 消息)进行数据交换。在图片中，它们显示在方括号内，如果你不明白它们的具体含义，不要担心。只需要掌握它的基本概念，就像 C++ 的 " int"、"string" 或 "float"。

现在让我们回顾一下那些曾经让我感到害怕的术语:

1. 中间件: ROS 本身并不编写任何算法或应用程序，它只是在你的操作系统(Ubuntu、 Windows 等)之上，便于一系列驱动程序和进程进行通信。事情是这样的，到目前为止，可能有一个隐含的假设，即我们所有的应用程序都在同一台计算机上运行。好吧，事实并非如此。这些进程可以通过网络进行分布式运行，而且无需任何变化，它们的工作方式完全相同。
2. 硬件抽象：我们创建的标准消息类型，就是所有进程需要的输入。如果你决定更改激光雷达或者电机控制器，那完全没问题，你的应用程序并不依赖于特定的硬件。ROS 提供了将这种依赖从循环中抽象出来的方法。

干净利落。这就是 ROS 的概括。ROS 的开发还有其他一些优势，例如集成的应用程序库、易于协作、大型的支持和开发社区，以及几个“开箱即用”的包可以立即安装机器人。
